<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width">
  <title>íŒ¨í„´ ì»¨íŠ¸ë¡¤</title>
  <style>
    .bg-btn, .dot-btn {
      width: 24px;
      height: 24px;
      border-radius: 50%;
      border: 2px solid #D3D3D3;
      margin-left: 4px;
      cursor: pointer;
    }
    .no-bg-btn, .no-dot-btn {
      background: transparent;
      border: 2px dashed #bbb;
    }
    .control-group {
      margin-top: 8px;
    }
    body {
      margin: 8px;
      font-family: system-ui, -apple-system, BlinkMacSystemFont, sans-serif;
    }
  </style>
</head>
<body>
  <h3>Build your own pattern :))</h3>

  <button onclick="requestDownload()">get your pattern !</button>

  <!-- ì „ì²´ ë°°ê²½ ìƒ‰ ì„ íƒ -->
  <div class="control-group">
    <label>background:</label>
    <button class="bg-btn" style="background:#4ECDC4" onclick="setBackground('#4ECDC4')"></button>
    <button class="bg-btn" style="background:#FDF2B2" onclick="setBackground('#FDF2B2')"></button>
    <button class="bg-btn" style="background:#FF6B6B" onclick="setBackground('#FF6B6B')"></button>
    <button class="bg-btn" style="background:#E0FFFF" onclick="setBackground('#E0FFFF')"></button>
    <button class="bg-btn" style="background:#A8E6CF" onclick="setBackground('#A8E6CF')"></button>
    <!-- ë°°ê²½ ì—†ìŒ(íˆ¬ëª…) -->
    <button class="bg-btn no-bg-btn" onclick="setBackground(null)"></button>
  </div>

  <!-- ë„íŠ¸ ì„¤ì • -->
  <div class="control-group">
    <label>dot size:</label>
    <input type="range" id="dotSizeInput" min="1" max="8" value="2" oninput="updateDotSize(this.value)">
  </div>

  <div class="control-group">
    <label>dot color:</label>
    <button class="dot-btn" style="background:#FFFFFF" onclick="setDotColor('#FFFFFF')"></button>
    <button class="dot-btn" style="background:#F7E8A4" onclick="setDotColor('#F7E8A4')"></button>
    <button class="dot-btn" style="background:#FFB6C1" onclick="setDotColor('#FFB6C1')"></button>
    <button class="dot-btn" style="background:#9ADBF0" onclick="setDotColor('#9ADBF0')"></button>
    <button class="dot-btn" style="background:#CDE7B0" onclick="setDotColor('#CDE7B0')"></button>
    <!-- ë„íŠ¸ ì—†ìŒ -->
    <button class="dot-btn no-dot-btn" onclick="setDotColor(null)"></button>
  </div>

  <br>

  <button type="button" onclick="addPatternRow(1)">â‹†add poodleâ‹†</button>
  <button type="button" onclick="addPatternRow(2)">â‹†add retrieverâ‹†</button>
  <button type="button" onclick="addPatternRow(3)">â‹†add Jindoâ‹†</button>
  <button type="button" onclick="addPatternRow(4)">sweet home ğŸ </button>
  <button type="button" onclick="addPatternRow(5)">add food :)</button>

  <script>
    // ì›ë˜ í•¨ìˆ˜ ì´ë¦„ ê·¸ëŒ€ë¡œ ìœ ì§€í•˜ë©´ì„œ, ì‹¤ì œë¡œëŠ” ë¶€ëª¨(SHSH.html)ì—ê²Œë§Œ ë©”ì‹œì§€ ë³´ë‚´ê¸°
    function setBackground(color) {
      parent.postMessage({ type: 'bg', value: color }, '*');
    }
    function updateDotSize(value) {
      parent.postMessage({ type: 'dotSize', value: Number(value) }, '*');
    }
    function setDotColor(color) {
      parent.postMessage({ type: 'dotColor', value: color }, '*');
    }
    function addPatternRow(type) {
      parent.postMessage({ type: 'addRow', value: Number(type) }, '*');
    }
    function downloadPattern() {
      parent.postMessage({ type: 'download' }, '*');
    }

  // ìƒˆë¡œ ì¶”ê°€: ë‹¤ìš´ë¡œë“œ ìš”ì²­
  function requestDownload() {
    sendToParent({ type: "download" });
  }
  </script>
</body>
</html>
